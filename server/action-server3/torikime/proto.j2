// Generated by the torikime.  DO NOT EDIT!
syntax = "proto3";

// contract_id = {{ contract_id }}
// rpc_id = {{ rpc_id }}

package {{ namespace }}.{{ contract }}.{{ name }};

{% if "imports" in rpc -%}
{%- for import in imports %}
import "{{ import }}.proto";
{%- endfor %}
{% endif %}

{% if "description" in rpc -%}
// {{ rpc.description }}
{% endif %}
{% if "request" in rpc -%}
message Request {
{%- for k, v in rpc_def.request.items() %}
  {# // {{ k }} : {{ v }} #}
  {%- if v["container"] == "value" %}
  {{ v["type"] }} {{ k }} = {{ loop.index }};
  {%- elif v["container"] == "array" %}
  repeated {{ v["type"] }} {{ k }} = {{ loop.index }};
  {%- endif %}
{%- endfor %}
}

message Response {
{%- if "response" in rpc %}
{%- for k, v in rpc_def.response.items() %}
  {# // {{ k }} : {{ v }} #}
  {%- if v["container"] == "value" %}
  {{ v["type"] }} {{ k }} = {{ loop.index }};
  {%- elif v["container"] == "array" %}
  repeated {{ v["type"] }} {{ k }} = {{ loop.index }};
  {%- endif %}
{%- endfor %}
{%- else %}
  // No response parameters
{%- endif %}
}

message RequestParcel {
  Request request = 1;
  uint32 request_id = 2;
}

message ResponseParcel {
  Response response = 1;
  uint32 request_id = 2;
  bool success = 3;
}
{% endif -%}

{%- if "notification" in rpc_def %}
message Notification {
{%- for k, v in rpc_def.notification.items() %}
  {# // {{ k }} : {{ v }} #}
  {%- if v["container"] == "value" %}
  {{ v["type"] }} {{ k }} = {{ loop.index }};
  {%- elif v["container"] == "array" %}
  repeated {{ v["type"] }} {{ k }} = {{ loop.index }};
  {%- endif %}
{%- endfor %}
}

message NotificationParcel {
  Notification notification  = 1;
  uint32 notification_id = 2;
}
{%- endif %}
// Generated by the torikime.  DO NOT EDIT!
