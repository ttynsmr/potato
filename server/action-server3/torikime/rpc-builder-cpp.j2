// Generated by the torikime.  DO NOT EDIT!
#include "rpc_builder.h"

#include "../../../src/rpc/rpc.h"
#include "../../../src/session/session.h"
#include "../../../src/services/network_service_provider.h"

#include "proto/message.pb.h"

{% for contract in contracts %}
{%- for name in contract.names %}
#include "proto/{{ contract.name }}_{{ name }}.pb.h"
#include "{{ contract.name }}_{{ name }}.h"
{%- endfor %}
{%- endfor %}

RpcBuilder::RpcBuilder() {}
RpcBuilder::~RpcBuilder() {}

void RpcBuilder::build(std::shared_ptr<NetworkServiceProvider> provider, std::shared_ptr<potato::net::Session> session)
{
{% for contract in contracts %}
{%- for name in contract.names %}
	{{ contract.name }}.{{ name | lower_camelize }} = std::make_shared<{{ namespace }}::{{ contract.name }}::{{ name }}::Rpc>(session);
	provider->registerRpc({{ contract.name }}.{{ name | lower_camelize }});
{%- endfor %}
{%- endfor %}
}
// Generated by the torikime.  DO NOT EDIT!
