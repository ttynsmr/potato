# yaml -> torikime -> generate .proto & rpc code.
contracts:
  unit:
    spawn_ready:
      imports:
        - "message.proto"
      request:
        area_id: int32
      response:
        session_id: int32
        unit_id: uint64
        position: torikime.Vector3
        direction: float
        individuality: torikime.Individuality
        cause: torikime.UnitSpawnCause
        avatar: torikime.Avatar
    spawn:
      imports:
        - "message.proto"
      notification:
        session_id: int32
        unit_id: uint64
        position: torikime.Vector3
        direction: float
        individuality: torikime.Individuality
        cause: torikime.UnitSpawnCause
        avatar: torikime.Avatar
    despawn:
      imports:
        - "message.proto"
      notification:
        session_id: int32
        unit_id: uint64
        position: torikime.Vector3
        direction: float
        cause: torikime.UnitSpawnCause
    move:
      imports:
        - "message.proto"
      request:
        unit_id: uint64
        time: int64 # 移動開始時間
        from: torikime.Vector3
        to: torikime.Vector3
        speed: float
        move_id: uint64
      response:
        ok: bool
      notification:
        unit_id: uint64
        time: int64 # 移動開始時間
        from: torikime.Vector3
        to: torikime.Vector3
        speed: float
        move_id: uint64
    stop:
      request:
        unit_id: uint64
        time: int64 # 移動開始時間
        stop_time: int64 # 移動停止時間
        direction: float
        move_id: uint64
      response:
        ok: bool
      notification:
        unit_id: uint64
        time: int64 # 移動開始時間
        stop_time: int64 # 移動停止時間
        direction: float
        move_id: uint64
